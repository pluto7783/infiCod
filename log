[1mdiff --git a/infiCod/WebContent/WEB-INF/jsp/CE/background.js b/infiCod/WebContent/WEB-INF/jsp/CE/background.js[m
[1mindex 2fdf172..98006d7 100644[m
[1m--- a/infiCod/WebContent/WEB-INF/jsp/CE/background.js[m
[1m+++ b/infiCod/WebContent/WEB-INF/jsp/CE/background.js[m
[36m@@ -5,52 +5,26 @@[m
 //		});[m
 //	}[m
 //)[m
[31m-var enable=false;[m
[31m-var remoteVal = false;[m
[32m+[m[32mvar enable=true;[m
[32m+[m[32m/*chrome.storage.local.set({"foo":"woo"},function(){[m
[32m+[m	[32mconsole.log(123)[m
[32m+[m[32m});*/[m
 [m
[31m-chrome.runtime.onMessage.addListener([m
[31m-  function(request, sender, sendResponse) {[m
[31m-    console.log(sender.tab ?[m
[31m-                "from a content script:" + sender.tab.url :[m
[31m-                "from the extension");[m
[31m-    if (request.check == "on")[m
[31m-      sendResponse({check: enable});[m
[31m-    if (request.check == "clickOn"){[m
[31m-    	enable = true;[m
[31m-    	chrome.browserAction.setIcon({ path: 'iconon.png' });[m
[31m-		chrome.browserAction.setBadgeText({ text: 'ON' });[m
[31m-		sendResponse({check: enable});[m
[31m-    }[m
[31m-    if (request.check == "clickOff"){[m
[31m-    	enable = false;[m
[31m-    	chrome.browserAction.setIcon({ path: 'iconoff.png'});[m
[31m-		chrome.browserAction.setBadgeText({ text: 'OFF' });[m
[31m-		sendResponse({check: enable});[m
[31m-    }[m
[31m-    if (request.check == "remoteOn"){[m
[31m-    	sendResponse({check: remoteVal});[m
[31m-    }[m
[31m-    if (request.check == "remoteSwich"){[m
[31m-    	remoteVal = !remoteVal;[m
[31m-    	sendResponse({check: remoteVal});[m
[31m-    }[m
[31m-   /* if (request.check == "removeImg"){[m
[31m-    	chrome.tabs.executeScript(null, { file: "content/img/img.js" });[m
[31m-    	sendResponse({check: enable});[m
[31m-    }*/[m
[31m-});[m
[31m-[m
[31m-/*chrome.browserAction.onClicked.addListener(function (tab) {[m
[32m+[m[32mchrome.browserAction.onClicked.addListener(function (tab) {[m
 	enable = enable ? false : true;[m
 	if(enable){[m
 	//turn on...[m
 		chrome.browserAction.setIcon({ path: 'iconon.png' });[m
 		chrome.browserAction.setBadgeText({ text: 'ON' });[m
[31m-		console.log("on/off :"+(enable?"on":"off"))[m
[32m+[m[32m//		chrome.storage.local.set({"on":"on"},function(){[m
[32m+[m[32m//			chrome.tabs.executeScript({code : 'var chromeExtensionActiveVal = true'});[m[41m [m
[32m+[m[32m//		});[m
 	}else{[m
 	//turn off...[m
 		chrome.browserAction.setIcon({ path: 'iconoff.png'});[m
 		chrome.browserAction.setBadgeText({ text: 'OFF' });[m
[31m-		console.log("on/off :"+(enable?"on":"off"))[m
[32m+[m[32m//		chrome.storage.local.set({"on":"off"},function(){[m
[32m+[m[32m//			chrome.tabs.executeScript({code : 'var chromeExtensionActiveVal = false'});[m[41m [m
[32m+[m[32m//		});[m
 	}[m
[31m-});*/[m
\ No newline at end of file[m
[32m+[m[32m});[m
\ No newline at end of file[m
[1mdiff --git a/infiCod/WebContent/WEB-INF/jsp/CE/content/ifr/ifr.js b/infiCod/WebContent/WEB-INF/jsp/CE/content/ifr/ifr.js[m
[1mdeleted file mode 100644[m
[1mindex 1ec134c..0000000[m
[1m--- a/infiCod/WebContent/WEB-INF/jsp/CE/content/ifr/ifr.js[m
[1m+++ /dev/null[m
[36m@@ -1,20 +0,0 @@[m
[31m-function onLoadFuc(){[m
[31m-	console.log("===== ifr.js 11 =====")[m
[31m-}[m
[31m-/* [m
[31m-var ifr = document.getElementsByTagName("iframe");[m
[31m-var ifrlength = ifr.length;[m
[31m-for (var i = 0; i < ifrlength; i++){[m
[31m-	ifr[0].remove();[m
[31m-}[m
[31m-*/[m
[31m-[m
[31m-/**[m
[31m- * querySelectorAll 셀렉터를 이용한 제거[m
[31m- */[m
[31m-var ifr = document.querySelectorAll("iframe")[m
[31m-ifr.forEach(function(r){[m
[31m-  r.remove();  [m
[31m-})[m
[31m-[m
[31m-window.onload = onLoadFuc;[m
[1mdiff --git a/infiCod/WebContent/WEB-INF/jsp/CE/content/img/img.js b/infiCod/WebContent/WEB-INF/jsp/CE/content/img/img.js[m
[1mdeleted file mode 100644[m
[1mindex ba784ee..0000000[m
[1m--- a/infiCod/WebContent/WEB-INF/jsp/CE/content/img/img.js[m
[1m+++ /dev/null[m
[36m@@ -1,20 +0,0 @@[m
[31m-function onLoadFuc(){[m
[31m-	console.log("===== img.js 11 =====")[m
[31m-}[m
[31m-/* TagName 셀렉터를 이용한 제거[m
[31m-var img = document.getElementsByTagName("img");[m
[31m-var imglength = img.length;[m
[31m-for (var i = 0; i < imglength; i++){[m
[31m-	img[0].remove();[m
[31m-}[m
[31m-*/[m
[31m-[m
[31m-/**[m
[31m- * querySelectAll 셀렉터를 이용한 제거 ;[m
[31m- */[m
[31m-var img2 = document.querySelectorAll("img")[m
[31m-img2.forEach(function(img){[m
[31m-	img.src = "";  [m
[31m-})[m
[31m-[m
[31m-window.onload = onLoadFuc;[m
[1mdiff --git a/infiCod/WebContent/WEB-INF/jsp/CE/content/okky/okky.js b/infiCod/WebContent/WEB-INF/jsp/CE/content/okky/okky.js[m
[1mindex eac05c0..1200408 100644[m
[1m--- a/infiCod/WebContent/WEB-INF/jsp/CE/content/okky/okky.js[m
[1m+++ b/infiCod/WebContent/WEB-INF/jsp/CE/content/okky/okky.js[m
[36m@@ -2,15 +2,10 @@[m [mfunction onLoadFuc(){[m
 	console.log("===== okky.js 15 =====")[m
 }[m
 [m
[31m-chrome.runtime.sendMessage({check: "on"}, function(response) {[m
[31m-	  console.log(response.check);[m
[31m-	  if(response.check){[m
[31m-		  //오키광고삭제[m
[31m-		  $(".right-banner-wrapper").remove();[m
[31m-		  $(".main-banner-wrapper").remove();[m
[31m-		  $(".sidebar-category-nav").css("backgroundColor","#f8f8f8");[m
[31m-		  $(".sidebar").css("backgroundColor","#f8f8f8");[m
[31m-	  }[m
[31m-});[m
[32m+[m[32m//오키광고삭제[m
[32m+[m[32m$(".right-banner-wrapper").remove();[m
[32m+[m[32m$(".main-banner-wrapper").remove();[m
[32m+[m[32m$(".sidebar-category-nav").css("backgroundColor","#f8f8f8");[m
[32m+[m[32m$(".sidebar").css("backgroundColor","#f8f8f8");[m
 [m
[31m-window.onload = onLoadFuc;[m
[32m+[m[32mwindow.onload = onLoadFuc;[m
\ No newline at end of file[m
[1mdiff --git a/infiCod/WebContent/WEB-INF/jsp/CE/content/remocon/remocon.js b/infiCod/WebContent/WEB-INF/jsp/CE/content/remocon/remocon.js[m
[1mdeleted file mode 100644[m
[1mindex 548323d..0000000[m
[1m--- a/infiCod/WebContent/WEB-INF/jsp/CE/content/remocon/remocon.js[m
[1m+++ /dev/null[m
[36m@@ -1,41 +0,0 @@[m
[31m-function onLoadFuc(){[m
[31m-	console.log("===== remocon.js 01 =====")[m
[31m-}[m
[31m-[m
[31m-chrome.runtime.sendMessage({check: "remoteOn"}, function(response) {[m
[31m-	  if(!response.check){[m
[31m-		  if(document.getElementById("remoteConDiv")){[m
[31m-			  document.getElementById("remoteConDiv").remove();[m
[31m-		  }[m
[31m-		  return;[m
[31m-	  }[m
[31m-	  [m
[31m-	  if(response.check){[m
[31m-		  if(document.getElementById("remoteConDiv")){[m
[31m-			  document.getElementById("remoteConDiv").remove();[m
[31m-		  }[m
[31m-		  [m
[31m-		  function createElement(obj,propt){[m
[31m-			  var returnObj = document.createElement(obj);[m
[31m-			  [m
[31m-			  for ( var prt in propt){[m
[31m-				  if(typeof(propt[prt]) == "object"){[m
[31m-					  for(var pr in propt[prt]){[m
[31m-						  returnObj[prt][pr] = propt[prt][pr];[m
[31m-					  }[m
[31m-				  }else{[m
[31m-					  returnObj[prt] = propt[prt];[m
[31m-				  }[m
[31m-			  }[m
[31m-			  return returnObj;[m
[31m-		  }[m
[31m-		  [m
[31m-		  var div = createElement("div", {id:"remoteConDiv"[m
[31m-			  							, style:{width:"100px", height:"100px"[m
[31m-			  								    ,border:"1px solid black", position:"fixed"[m
[31m-			  								    ,bottom:"100px", right:"100px"}});[m
[31m-		  document.body.append(div)[m
[31m-	  }[m
[31m-});[m
[31m-[m
[31m-window.onload = onLoadFuc;[m
[1mdiff --git a/infiCod/WebContent/WEB-INF/jsp/CE/js/inject.js b/infiCod/WebContent/WEB-INF/jsp/CE/js/inject.js[m
[1mindex a466563..9e5ac40 100644[m
[1m--- a/infiCod/WebContent/WEB-INF/jsp/CE/js/inject.js[m
[1m+++ b/infiCod/WebContent/WEB-INF/jsp/CE/js/inject.js[m
[36m@@ -19,14 +19,7 @@[m [mfunction imgRemove(){[m
 		console.log("===== 테스트 009 =====")[m
 	});*/[m
 	[m
[31m-//	$("img").remove();[m
[31m-	chrome.runtime.sendMessage({check: "on"}, function(response) {[m
[31m-		  if(response.check){[m
[31m-			  console.log("on")[m
[31m-		  }else{[m
[31m-			  console.log("off")[m
[31m-		  }[m
[31m-	});[m
[32m+[m	[32m$("img").remove();[m
 	[m
 	console.log("===== main inject.js 13 =====")[m
 }[m
[1mdiff --git a/infiCod/WebContent/WEB-INF/jsp/CE/manifest.json b/infiCod/WebContent/WEB-INF/jsp/CE/manifest.json[m
[1mindex 672e057..e5d76ee 100644[m
[1m--- a/infiCod/WebContent/WEB-INF/jsp/CE/manifest.json[m
[1m+++ b/infiCod/WebContent/WEB-INF/jsp/CE/manifest.json[m
[36m@@ -10,13 +10,12 @@[m
         "persistent": true[m
     },[m
     "browser_action": {[m
[31m-    	"default_popup": "popup.html",[m
[31m-        "default_icon": "iconoff.png"[m
[32m+[m[32m        "default_icon": "iconon.png"[m
     },[m
     "content_scripts": [[m
 	    {[m
 	      "matches": ["http://*/*","https://*/*"],[m
[31m-	      "js": ["js/jquery-3.4.1.min.js","js/inject.js","content/remocon/remocon.js"][m
[32m+[m	[32m      "js": ["js/jquery-3.4.1.min.js","js/inject.js"][m
 	    },[m
 	    {[m
 	      "matches": ["https://okky.kr/*"],[m
[36m@@ -24,7 +23,8 @@[m
 	    }[m
   	],[m
     "permissions": [[m
[31m-        "<all_urls>",[m
[32m+[m[32m        "https://*/*",[m
[32m+[m[32m        "http://*/*",[m
         "tabs"[m
     ][m
 }[m
\ No newline at end of file[m
[1mdiff --git a/infiCod/WebContent/WEB-INF/jsp/CE/popup.html b/infiCod/WebContent/WEB-INF/jsp/CE/popup.html[m
[1mdeleted file mode 100644[m
[1mindex 747a861..0000000[m
[1m--- a/infiCod/WebContent/WEB-INF/jsp/CE/popup.html[m
[1m+++ /dev/null[m
[36m@@ -1,21 +0,0 @@[m
[31m-<!DOCTYPE html>[m
[31m-<html>[m
[31m-<head>[m
[31m-<meta charset="UTF-8">[m
[31m-<style>[m
[31m-button {[m
[31m-	height: 25px;[m
[31m-	width: 100px;[m
[31m-	margin-top: 5px;[m
[31m-}[m
[31m-</style>[m
[31m-</head>[m
[31m-<body>[m
[31m-	<button id="on">ON</button>[m
[31m-	<button id="off">OFF</button>[m
[31m-	<button id="removeIfr">아이프레임</button>[m
[31m-	<button id="removeImg">이미지</button>[m
[31m-	<button id="remote">리모컨</button>[m
[31m-</body>[m
[31m-<script src="popup.js"></script>[m
[31m-</html>[m
\ No newline at end of file[m
[1mdiff --git a/infiCod/WebContent/WEB-INF/jsp/CE/popup.js b/infiCod/WebContent/WEB-INF/jsp/CE/popup.js[m
[1mdeleted file mode 100644[m
[1mindex c0c3246..0000000[m
[1m--- a/infiCod/WebContent/WEB-INF/jsp/CE/popup.js[m
[1m+++ /dev/null[m
[36m@@ -1,48 +0,0 @@[m
[31m-document.getElementById("on").onclick = function(){[m
[31m-	chrome.runtime.sendMessage({check: "clickOn"}, function(response) {[m
[31m-		  /*if(response.check){[m
[31m-			  document.getElementById("on").style.backgroundColor = "black";[m
[31m-		  }else{[m
[31m-			  document.getElementById("on").style.backgroundColor = "white";[m
[31m-		  }*/[m
[31m-	});[m
[31m-}[m
[31m-[m
[31m-document.getElementById("off").onclick = function(){[m
[31m-	chrome.runtime.sendMessage({check: "clickOff"}, function(response) {[m
[31m-		[m
[31m-	});[m
[31m-}[m
[31m-[m
[31m-document.getElementById("removeIfr").onclick = function(){[m
[31m-	/*chrome.runtime.sendMessage({check: "removeIfr"}, function(response) {[m
[31m-	});*/[m
[31m-	chrome.tabs.query({active:true, currentWindow:true},function(tabs){[m
[31m-		chrome.tabs.executeScript([m
[31m-			tabs[0].id,[m
[31m-			{ file: "content/ifr/ifr.js" }[m
[31m-		)[m
[31m-	});[m
[31m-}[m
[31m-[m
[31m-document.getElementById("removeImg").onclick = function(){[m
[31m-	chrome.tabs.query({active:true, currentWindow:true},function(tabs){[m
[31m-		chrome.tabs.executeScript([m
[31m-			tabs[0].id,[m
[31m-			{ file: "content/img/img.js" }[m
[31m-		)[m
[31m-	});[m
[31m-}[m
[31m-[m
[31m-document.getElementById("remote").onclick = function(){[m
[31m-	chrome.runtime.sendMessage({check: "remoteSwich"}, function(response) {[m
[31m-		[m
[31m-	});[m
[31m-	[m
[31m-	chrome.tabs.query({active:true, currentWindow:true},function(tabs){[m
[31m-		chrome.tabs.executeScript([m
[31m-				tabs[0].id,[m
[31m-				{ file: "content/remocon/remocon.js" }[m
[31m-		)[m
[31m-	});[m
[31m-} [m
\ No newline at end of file[m
[1mdiff --git a/infiCod/WebContent/WEB-INF/jsp/background.js b/infiCod/WebContent/WEB-INF/jsp/background.js[m
[1mdeleted file mode 100644[m
[1mindex 3691ceb..0000000[m
[1m--- a/infiCod/WebContent/WEB-INF/jsp/background.js[m
[1m+++ /dev/null[m
[36m@@ -1,27 +0,0 @@[m
[31m-//http 링크가 걸린 a태그의 href 값을 #으로 치환[m
[31m-for (var i = 0; i <$("a").length;i++){[m
[31m-	var sp = $("a").eq(i);[m
[31m-	if(sp.attr("href")){[m
[31m-		if(sp.attr("href").indexOf("http")>-1){[m
[31m-			sp.attr("href","#");[m
[31m-        }[m
[31m-    }[m
[31m-}[m
[31m-[m
[31m-//페이지 내 iframe 전부제거[m
[31m-var ifr = document.getElementsByTagName("iframe");[m
[31m-var ifrlength = ifr.length;[m
[31m-for (var i = 0; i < ifrlength; i++){[m
[31m-	ifr[0].remove();[m
[31m-}[m
[31m-[m
[31m-//페이지 모든 element border줘서 구분할수있게[m
[31m-/*$("*").each(function (){[m
[31m-	$(this).css("border","1px solid #eee")[m
[31m-})*/[m
[31m-[m
[31m-var a = document.querySelectorAll("*");[m
[31m-a.forEach(function(aa){aa.style.border = "1px solid #eee"})[m
[31m-[m
[31m-//페이지 제일 아래로[m
[31m-window.scrollBy(0,document.body.offsetHeight)[m
\ No newline at end of file[m
[1mdiff --git a/infiCod/target/m2e-wtp/web-resources/META-INF/maven/com.infi/code/pom.properties b/infiCod/target/m2e-wtp/web-resources/META-INF/maven/com.infi/code/pom.properties[m
[1mindex 62632b7..2c5a674 100644[m
[1m--- a/infiCod/target/m2e-wtp/web-resources/META-INF/maven/com.infi/code/pom.properties[m
[1m+++ b/infiCod/target/m2e-wtp/web-resources/META-INF/maven/com.infi/code/pom.properties[m
[36m@@ -1,5 +1,5 @@[m
 #Generated by Maven Integration for Eclipse[m
[31m-#Tue May 28 09:12:45 KST 2019[m
[32m+[m[32m#Fri May 24 10:17:05 KST 2019[m
 version=1.0.0-BUILD-SNAPSHOT[m
 groupId=com.infi[m
 m2e.projectName=infiCod[m
